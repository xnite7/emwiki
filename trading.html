<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trading Hub - Epic Catalogue</title>
    <meta name="description" content="Trade Epic Minigames items with other players safely and easily!">
    <meta property="og:title" content="Trading Hub - Epic Catalogue">
    <meta property="og:image" content="https://emwiki.com/imgs/QgWIUWf.png">
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/trading.css">
    <link rel="icon" href="./imgs/favicon.png" type="image/png">
    <meta name="theme-color" content="#000000">

    <!-- Popover compatibility for older browsers -->
    <script src="./js/popover-loader.js"></script>
</head>

<body>
    <!-- Header -->
    <header>
        <a href="https://emwiki.com">
            <svg width="500" height="300" viewBox="451 471 100 39" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="eppp1" y1="1" x2="0">
                        <stop offset=".2" style="stop-color:#ff0" />
                        <stop offset="1" style="stop-color:#24ff5a" />
                    </linearGradient>
                    <linearGradient id="eppp2" y1="1" x2="0">
                        <stop offset="0" style="stop-color:#24ff5d" />
                        <stop offset="1" style="stop-color:#ff0" />
                    </linearGradient>
                </defs>
                <image id="cloud" x="461" y="459" href="https://emwiki.com/imgs/TWOKPhY.png" height="60" width="60"
                    style="filter:opacity(.6)" />
                <text x="489" y="503" text-anchor="middle" stroke="#000" stroke-width="2.3" paint-order="stroke"
                    stroke-linejoin="round" fill="url(#eppp1)"
                    style="animation:floatAnim 12s ease-in-out infinite;font:200 46px Slapstick">EM</text>
                <image id="epic-image" x="464" y="463" href="https://emwiki.com/imgs/epicfaces/kitta.png" height="60"
                    width="60"
                    style="scale:.48;transform:translate(846px,103px);rotate:20deg;transform-origin:center;animation:floatAnim2 15s ease-in-out 1s infinite alternate" />
                <image id="cloud" x="495" y="477" href="https://emwiki.com/imgs/8UUB0Gt.png" height="60" width="60"
                    style="filter:opacity(.86)" />
                <text x="516" y="514" text-anchor="middle" stroke="#000" stroke-width="2.3" paint-order="stroke"
                    stroke-linejoin="round" fill="url(#eppp2)"
                    style="animation:floatAnim 12s ease-in-out infinite;animation-delay:5.5s;font:200 16px Slapstick">wiki</text>
                <image id="cloud" x="445" y="487" href="https://emwiki.com/imgs/oYKd3nJ.png" height="28" width="42"
                    style="filter:opacity(.8)" />
            </svg>
        </a>

        <div class="nav-links">
            <a href="/catalog" class="nav-link">Catalog</a>
            <a href="/trading" class="nav-link active">Trading Hub</a>
            <a href="/forum" class="nav-link">Forum</a>
            <a href="/gallery" class="nav-link">Gallery</a>
            <a href="/scammers" class="nav-link">Scammers</a>
        </div>
    </header>

    <div class="trading-container">
        <!-- Browse View (Default) -->
        <div class="trading-view active" id="browseView">
            <div class="browse-header">
                <h1 class="browse-title">Browse Trades</h1>
                <button class="btn-create-trade" id="createTradeBtn">
                    <span>Create Trade</span>
                    <span class="btn-icon">‚ûï</span>
                </button>
            </div>

            <div class="browse-filters">
                <div class="search-box">
                    <input type="text" class="search-input" id="browseSearchInput" placeholder="Search trades...">
                </div>
                <div class="filter-row">
                    <select class="filter-select" id="filterCategory">
                        <option value="all">All Categories</option>
                        <option value="gears">Gears</option>
                        <option value="deaths">Deaths</option>
                        <option value="pets">Pets</option>
                        <option value="effects">Effects</option>
                        <option value="titles">Titles</option>
                    </select>
                    <select class="filter-select" id="filterStatus">
                        <option value="active">Active</option>
                        <option value="all">All Status</option>
                        <option value="completed">Completed</option>
                    </select>
                    <select class="filter-select" id="filterSort">
                        <option value="recent">Most Recent</option>
                        <option value="views">Most Views</option>
                    </select>
                </div>
            </div>

            <div class="trades-grid" id="tradesGrid"></div>
        </div>

        <!-- Create Trade Wizard -->
        <div class="trading-view" id="createView">
            <div class="wizard-container">
                <!-- Progress Indicator -->
                <div class="wizard-progress">
                    <div class="progress-step" data-step="1">
                        <div class="step-number">1</div>
                        <div class="step-label">Looking For</div>
                    </div>
                    <div class="progress-step" data-step="2">
                        <div class="step-number">2</div>
                        <div class="step-label">What I Offer</div>
                    </div>
                    <div class="progress-step" data-step="3">
                        <div class="step-number">3</div>
                        <div class="step-label">Details</div>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                </div>

                <!-- Step 1: Looking For -->
                <div class="wizard-step active" data-step="1">
                    <div class="step-header">
                        <h2>What are you looking for?</h2>
                        <p class="step-subtitle">Add items, Robux, or other game items you want</p>
                    </div>

                    <div class="step-content">
                        <div class="items-section">
                            <div class="section-header-row">
                                <label class="form-label">They Give</label>
                                <button class="btn-add-custom" id="addSeekingCustomBtn">
                                    <span>üí∞</span>
                                    <span>Add Robux/Other</span>
                                </button>
                            </div>

                            <div class="item-search-container">
                                <input type="text" class="item-search-input" id="seekingSearchInput" placeholder="Search items...">
                                <div class="item-search-results" id="seekingSearchResults"></div>
                            </div>

                            <div class="selected-items-container" id="seekingItemsContainer">
                                <div class="empty-state">
                                    <span>No items selected</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="step-actions">
                        <button class="btn-secondary" id="cancelWizardBtn">Cancel</button>
                        <button class="btn-primary" id="nextStep1Btn">Continue</button>
                    </div>
                </div>

                <!-- Step 2: What I Offer -->
                <div class="wizard-step" data-step="2">
                    <div class="step-header">
                        <h2>What are you offering?</h2>
                        <p class="step-subtitle">Add items, Robux, or other game items you're giving</p>
                    </div>

                    <div class="step-content">
                        <div class="items-section">
                            <div class="section-header-row">
                                <label class="form-label">You Give *</label>
                                <button class="btn-add-custom" id="addOfferingCustomBtn">
                                    <span>üí∞</span>
                                    <span>Add Robux/Other</span>
                                </button>
                            </div>

                            <div class="item-search-container">
                                <input type="text" class="item-search-input" id="offeringSearchInput" placeholder="Search items...">
                                <div class="item-search-results" id="offeringSearchResults"></div>
                            </div>

                            <div class="selected-items-container" id="offeringItemsContainer">
                                <div class="empty-state">
                                    <span>No items selected</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="step-actions">
                        <button class="btn-secondary" id="backStep2Btn">Back</button>
                        <button class="btn-primary" id="nextStep2Btn">Continue</button>
                    </div>
                </div>

                <!-- Step 3: Extra Details -->
                <div class="wizard-step" data-step="3">
                    <div class="step-header">
                        <h2>Extra Details</h2>
                        <p class="step-subtitle">Add description, category, theme, and preview your trade</p>
                    </div>

                    <div class="step-content step-3-content">
                        <div class="details-column">
                            <div class="form-group">
                                <label class="form-label" for="tradeDescription">Description (Optional)</label>
                                <textarea class="form-textarea" id="tradeDescription" placeholder="Add any additional details about your trade..." rows="4" maxlength="500"></textarea>
                            </div>

                            <div class="form-group">
                                <label class="form-label" for="tradeCategory">Category (Optional)</label>
                                <select class="form-select" id="tradeCategory">
                                    <option value="">Select category...</option>
                                    <option value="gears">Gears</option>
                                    <option value="deaths">Deaths</option>
                                    <option value="pets">Pets</option>
                                    <option value="effects">Effects</option>
                                    <option value="titles">Titles</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Theme</label>
                                <div class="theme-selector" id="themeSelector">
                                    <button class="theme-option active" data-theme="default">
                                        <div class="theme-preview theme-default"></div>
                                        <span>Default</span>
                                    </button>
                                    <button class="theme-option" data-theme="ocean">
                                        <div class="theme-preview theme-ocean"></div>
                                        <span>Ocean</span>
                                    </button>
                                    <button class="theme-option" data-theme="sunset">
                                        <div class="theme-preview theme-sunset"></div>
                                        <span>Sunset</span>
                                    </button>
                                    <button class="theme-option" data-theme="forest">
                                        <div class="theme-preview theme-forest"></div>
                                        <span>Forest</span>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="preview-column">
                            <div class="preview-container">
                                <h3 class="preview-title">Preview</h3>
                                <div class="trade-preview-card" id="tradePreviewCard">
                                    <div class="preview-loading">Building preview...</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="step-actions">
                        <button class="btn-secondary" id="backStep3Btn">Back</button>
                        <button class="btn-primary" id="createListingBtn">
                            <span>Create Listing</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h4>Browse</h4>
                <a href="/catalog">Catalog</a>
                <a href="/scammers">Scammers List</a>
                <a href="/admin">Admin Portal</a>
            </div>
            <div class="footer-section">
                <h4>Community</h4>
                <a href="/forum">Forum</a>
                <a href="/trading">Trading</a>
                <a href="/gallery">Gallery</a>
                <a href="https://discord.com/invite/tg">Typical Games Discord</a>
            </div>
            <div class="footer-section">
                <h4>Contact</h4>
                <p>Found a bug? Reach out to <b>@xnite</b> on Discord!</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>¬© 2025 emwiki.com ‚Ä¢ made with ‚ù§ by xnite</p>
        </div>
    </footer>

    <!-- Custom Item Modal -->
    <div class="modal-overlay" id="customItemModal">
        <div class="modal-content modal-small">
            <div class="modal-header">
                <h3 class="modal-title">Add Custom Item</h3>
                <button class="modal-close" id="closeCustomModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Type</label>
                    <div class="option-group">
                        <button class="option-btn active" data-type="robux" id="customTypeRobux">
                            üí∞ Robux
                        </button>
                        <button class="option-btn" data-type="other" id="customTypeOther">
                            üéÆ Other Game
                        </button>
                    </div>
                </div>

                <div class="form-group" id="robuxInputGroup">
                    <label class="form-label" for="robuxAmount">Amount</label>
                    <input type="number" class="form-input" id="robuxAmount" placeholder="Enter amount..." min="0" step="1">
                </div>

                <div class="form-group hidden" id="otherGameInputGroup">
                    <label class="form-label" for="gameName">Game Name</label>
                    <input type="text" class="form-input" id="gameName" placeholder="e.g., Adopt Me">
                </div>

                <div class="form-group hidden" id="otherItemInputGroup">
                    <label class="form-label" for="itemName">Item Name</label>
                    <input type="text" class="form-input" id="itemName" placeholder="e.g., Legendary Dragon">
                </div>
            </div>
            <div class="modal-actions">
                <button class="btn-secondary" id="cancelCustomModal">Cancel</button>
                <button class="btn-primary" id="addCustomItemBtn">Add Item</button>
            </div>
        </div>
    </div>

    <script src="./js/script.js"></script>
    <script src="./js/trading.js"></script>
</body>

</html>
