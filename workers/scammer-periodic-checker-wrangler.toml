name = "scammer-periodic-checker"
main = "scammer-periodic-checker.js"
compatibility_date = "2024-01-01"

# D1 Database binding (same as your Pages project)
[[d1_databases]]
binding = "DB" # Or "DBA" if that's your binding name in Pages
database_name = "DBA"
database_id = "YOUR_D1_DATABASE_ID"  # Replace with your actual D1 database ID

# Queue binding (for enqueueing new messages)
[[queues.producers]]
queue = "scammer-messages"
binding = "SCAMMER_QUEUE"

# Cron trigger - runs every hour
[[triggers.crons]]
cron = "0 * * * *"  # Every hour at minute 0

# ============================================================================
# REQUIRED SECRETS (set via: wrangler secret put SECRET_NAME)
# ============================================================================
# DISCORD_BOT_TOKEN - Your Discord bot token
# DISCORD_CHANNEL_ID - The Discord channel ID to monitor

# ============================================================================
# CLOUDFLARE IMAGES (for image evidence)
# ============================================================================
# CLOUDFLARE_ACCOUNT_ID - Your Cloudflare account ID
# CLOUDFLARE_STREAM_TOKEN - API token with Images:Edit permission
#   OR use CLOUDFLARE_API_TOKEN with both Images and Stream permissions

# ============================================================================
# CLOUDFLARE STREAM (for video evidence)
# ============================================================================
# CLOUDFLARE_STREAM_TOKEN - API token with Stream:Edit permission
#   OR use CLOUDFLARE_API_TOKEN with both Images and Stream permissions
