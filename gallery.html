<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<title>Gallery - EM Wiki</title>
	<meta name="description"
		content="Community gallery for Epic Minigames - Share your favorite screenshots and videos!" />
	<meta property="og:title" content="Gallery - EM Wiki">
	<meta property="og:image" content="https://emwiki.com/imgs/QgWIUWf.png">
	<meta property="og:description"
		content="Community gallery for Epic Minigames - Share your favorite screenshots and videos!">
	<link rel="icon" href="./imgs/favicon.png" type="image/png">
	<link rel="apple-touch-icon" href="./imgs/app.png">
	<link rel="manifest" href="/site.webmanifest">
	<meta name="theme-color" content="#000000">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
	<link rel="stylesheet" href="./css/style.css">
	<link rel="stylesheet" href="./css/gallery.css">
	<style>
		body {
			min-height: 100vh;
			background-image: none;
			background-repeat: space;
			background-position: center;
			background-attachment: fixed;
			opacity: 0;
			animation: fadeIn 1s ease-out forwards;
		}

		@keyframes fadeIn {
			99% {
				background-image: none;
			}

			to {
				opacity: 1;
				background-image: url(./imgs/valentinesbg.png);
			}

		}

		@media screen and (max-width: 2062px) {
			body {
				background-repeat: repeat;
			}
		}
	</style>
</head>

<body data-active-nav="gallery">
	<div id="site-header"></div>

	<!-- Gallery Content -->
	<section class="hero-section">
		<div class="hero-content">
			<h1 class="hero-title"><span class="hero-epic">Community Gallery</span></h1>
			<p class="hero-subtitle">Share your Epic Minigames moments with the community!</p>

			<div class="gallery-actions">
				<button id="upload-btn" class="btn btn-primary">
					<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
						<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
						<polyline points="17 8 12 3 7 8"></polyline>
						<line x1="12" y1="3" x2="12" y2="15"></line>
					</svg>
					Upload Media
				</button>
				<button id="my-submissions-btn" class="btn btn-secondary">My Submissions</button>
			</div>
		</div>
			<!-- Sort Controls -->
			<div class="sort-controls">
				<span class="sort-label">Sort by:</span>
				<button class="sort-btn" data-sort="likes">Most Liked</button>
				<button class="sort-btn active" data-sort="newest">Newest</button>
			</div>
	</section>

	<!-- Upload Modal -->
	<div id="upload-modal" class="modal">
		<div class="modal-content">
			<div class="modal-header">
				<h2>Upload Media</h2>
				<button class="modal-close">&times;</button>
			</div>
			<div class="modal-body">
				<form id="upload-form">
					<div class="form-group">
						<label for="media-file">Select Image or Video</label>
						<input type="file" id="media-file" accept="image/*,video/*" required>
						<small>Max size: 100MB. Supported formats: JPEG, PNG, GIF, WebP, MP4, WebM, MOV</small>
					</div>

					<div id="preview-container" class="preview-container"></div>

					<div class="form-group">
						<label for="media-title">Title *</label>
						<input type="text" id="media-title" maxlength="100" placeholder="Give your submission a title"
							required>
					</div>

					<div class="form-group">
						<label for="media-description">Description (optional)</label>
						<textarea id="media-description" maxlength="500" rows="3"
							placeholder="Tell us about this moment..."></textarea>
					</div>

					<div class="upload-progress" style="display: none;">
						<div class="progress-bar">
							<div class="progress-fill"></div>
						</div>
						<p class="progress-text">Uploading...</p>
					</div>

					<div class="modal-actions">
						<button type="button" class="btn btn-secondary modal-cancel">Cancel</button>
						<button type="submit" class="btn btn-primary">Submit for Review</button>
					</div>
				</form>
			</div>
		</div>
	</div>

	<!-- My Submissions Modal -->
	<div id="submissions-modal" class="modal">
		<div class="modal-content">
			<div class="modal-header">
				<h2>My Submissions</h2>
				<button class="modal-close">&times;</button>
			</div>
			<div class="modal-body">
				<div id="my-submissions-list" class="submissions-list">
					<p class="loading">Loading...</p>
				</div>
			</div>
		</div>
	</div>


	<main>
		<!-- Gallery Grid -->
		<div id="gallery-grid" class="gallery-grid"></div>

		<!-- Pagination -->
		<div class="pagination-container"></div>
	</main>

	<!-- Media Viewer Modal -->
	<div id="viewer-modal" class="modal viewer-modal">
		<div class="viewer-content">
			<button class="viewer-close">&times;</button>
			<div class="viewer-media"></div>
			<div class="viewer-info">
				<h2 class="viewer-title"></h2>
				<p class="viewer-views"></p>
				<p class="viewer-author"></p>
				<p class="viewer-description"></p>
			</div>
			<div class="viewer-actions"></div>
		</div>
	</div>
	</div>
	<div id="site-footer"></div>
	<script src="./js/script.js"></script>
	<script>
		class Catalog extends BaseApp {
			constructor() {
				super();
			}
		}
		window.catalog = new Catalog();
	</script>
	<script src="https://cdn.jsdelivr.net/npm/hls.js@1"></script>
	<script src="./js/gallery.js"></script>
</body>

</html>